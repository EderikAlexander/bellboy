<!-- <h1>local tips for a given stay, in a given hotel</h1>



<%# @locations.each do |location| %>
  <%#= link_to stay_hotel_location_path(@stay, @hotel, location) do  %>
    <p><%#= location.name %></p>
  <%# end %>
<%# end %>
 -->
<div id="map" style="width: 100%; height: 1000px;"></div>



<% content_for(:after_js) do %>
  <script>
   var styledMapType =
            [
    {
        "featureType": "water",
        "elementType": "geometry.fill",
        "stylers": [
            {
                "color": "#3a485b"
            }
        ]
    },
    {
        "featureType": "water",
        "elementType": "labels.text.fill",
        "stylers": [
            {
                "color": "#3a485b"
            }
        ]
    }
];

    $(document).ready(function() {
      var handler = Gmaps.build('Google');
      handler.buildMap({
        internal: { id: 'map' },
        provider: {
          scrollwheel: false,
          zoomControl: false,
          zoom: 15,
          center: new google.maps.LatLng(<%= raw @hotel.latitude %>, <%= raw @hotel.longitude %>),
          mapTypeId: google.maps.MapTypeId.ROADMAP ,
          styles: styledMapType,
        }



       }, function() {
        markers = handler.addMarkers(<%= raw @hash.to_json %>);
        handler.bounds.extendWith(markers);
        handler.fitMapToBounds();
        if (markers.length == 0) {
          handler.getMap().setZoom(2);
        } else if (markers.length == 1) {
          handler.getMap().setZoom(14);
        }
      });
    });
  </script>
<% end %>

<%= render 'shared/bottom-navbar', home: stay_hotel_path(@stay, @hotel), services: stay_hotel_services_path(@stay, @hotel), locations: stay_hotel_locations_path(@stay, @hotel)  %>
