

<%#= we can not pass a url, we have to pass the current url %>
<%= link_to "Previous", start_date: @date_range.first - 1.day  %>
<%#= this should be customizable %>
<%= @start_date.month %> <%= @start_date.year %>
<%= link_to "Next", start_date: @date_range.last + 1.day  %>

<table class="table table-striped">
  <thead>
  <tr>
    <% @date_range.slice(0,7).each do |day| %>
      <th><%= I18n.t("date.abbr_day_names")[day.wday] %></th>
    <% end %>
  </tr>

  </thead>
  <tbody>
    <% @date_range.each_slice(7) do |week| %>
      <tr>
        <% week.each do |day| %>
          <td>
            <button type="button" class="btn btn-info btn-lg" data-toggle="modal" data-target="#hoursModal"><%= day %></button>
          </td>
        <% end %>
      </tr>
    <% end %>
  </tbody>
</table>

<%#= link_to "calendar-month", stay_hotel_calendar_month_path(@stay, @hotel), class: "btn btn-warning" %>
<%#= link_to "calendar-week", stay_hotel_calendar_week_path(@stay, @hotel), class: "btn btn-info" %>

<!-- Modal -->
<div id="hoursModal" class="modal fade" role="dialog">
  <div class="modal-dialog">

    <!-- Modal content-->
    <div class="modal-content">
      <ul>
        <% @bookable_hours[0].each_with_index do |bookable_hour, index| %>
          <li>
            <% if @bookable_hours[1][index] == 0 %>
              <div class="day-btn-wrapper">
                <button type="button" class="btn btn-success day-btn"><%= bookable_hour %></button>
              </div>
            <% else %>
              <button type="button" class="btn btn-danger"><%= bookable_hour %></button>
            <% end %>
          </li>
        <% end %>
      </ul>

      <button id="click-me" class="btn btn-success btn-lg">click me</button>

    </div>

  </div>
</div>



<script type="text/javascript">
  //$(document).ready(function() {
    // alert("hello")
    $("#click-me").click(function() {
      // alert( "i click the click-me button" );
    });

    $('#hoursModal').on('shown.bs.modal', function (event) {
     // alert( "i clicked the modal and i am inside the modal" );

     // $("#confirm-btn").trigger("click");
     $(".day-btn-wrapper").on("click",function(){
      // alert("button inside modal clicked");

      var btn = document.createElement("BUTTON");
      var t = document.createTextNode("Confirm");
      btn.appendChild(t);
      btn.className = "confirm-btn";
      // $(this).appendChild(btn);
      document.getElementById("hoursModal").appendChild(btn);
      // document.body.appendChild(btn);

     })

    });
  //});
</script>


















